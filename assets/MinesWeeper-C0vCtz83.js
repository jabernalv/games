import{I as V,r as i,L as E,o as Q,Q as q,c as n,e as r,j as k,t as C,s as W,F as z,i as J,d as o,S as K,p as $}from"./vue-vendor-DpVgmi3Y.js";import{_ as X}from"./index-DmsHWUvI.js";import"./primevue-B_xtssf4.js";const Y={class:"min-h-screen min-w-screen fixed inset-0 z-0 bg-gradient-to-br from-gray-300 via-gray-200 to-gray-400 flex items-center justify-center"},Z={class:"control-panel flex justify-between items-center mb-4"},ee={class:"text-xl font-bold text-red-600 digital-counter"},te={key:0},se={key:1},ae={key:2},ne={class:"text-xl font-bold text-red-600 digital-counter"},oe={class:"mb-4 flex justify-center space-x-2"},le={class:"board-wrapper overflow-x-auto"},ie=["onClick","onContextmenu"],re={key:0,class:"text-xl"},ue={key:1,class:$("text-xl")},ve={key:1,class:"text-xl"},de={key:0,class:"mt-4 text-center"},ce={key:0,class:"text-2xl font-bold text-green-600"},fe={key:1,class:"text-2xl font-bold text-red-600"},me=V({__name:"MinesWeeper",setup(ge){const B={easy:{rows:8,cols:8,mines:10},medium:{rows:16,cols:16,mines:40},hard:{rows:16,cols:30,mines:99}},a=i([]),p=i(8),v=i(8),f=i(10),c=i(10),d=i(!1),h=i(!1),_=i(0),S=i("easy"),w=i(!0),u=i(null),N=i(window.innerHeight),R=E(()=>({display:"grid",gridTemplateColumns:`repeat(${v.value}, 25px)`,gap:"0",borderTop:"1px solid #808080",borderLeft:"1px solid #808080",borderRight:"1px solid #fff",borderBottom:"1px solid #fff"})),L=E(()=>window.innerWidth<640?{width:"100vw",minWidth:"0",maxWidth:"100vw",borderRadius:0}:{minWidth:"auto",maxWidth:"unset",borderRadius:"8px"}),A=()=>{N.value=window.innerHeight};Q(()=>{g("easy"),window.addEventListener("resize",A)}),q(()=>{u.value&&clearInterval(u.value),window.removeEventListener("resize",A)});const g=e=>{S.value=e;const t=B[e];p.value=t.rows,v.value=t.cols,f.value=t.mines,d.value=!1,h.value=!1,_.value=0,w.value=!0,c.value=t.mines,u.value&&clearInterval(u.value),j()},j=()=>{a.value=[];for(let e=0;e<p.value*v.value;e++)a.value.push({isMine:!1,revealed:!1,flagged:!1,minesAround:0})},b=e=>{const t=[],s=Math.floor(e/v.value),l=e%v.value;for(let m=-1;m<=1;m++)for(let x=-1;x<=1;x++){if(m===0&&x===0)continue;const y=s+m,M=l+x,U=y*v.value+M;y>=0&&y<p.value&&M>=0&&M<v.value&&t.push(U)}return t},O=e=>{let t=0;const s=b(e).concat(e);for(;t<f.value;){const l=Math.floor(Math.random()*a.value.length);!a.value[l].isMine&&!s.includes(l)&&(a.value[l].isMine=!0,t++)}T()},T=()=>{for(let e=0;e<a.value.length;e++)if(!a.value[e].isMine){let t=0;b(e).forEach(l=>{a.value[l]&&a.value[l].isMine&&t++}),a.value[e].minesAround=t}},I=e=>{if(!(d.value||a.value[e].revealed||a.value[e].flagged)){if(w.value&&(O(e),D(),w.value=!1),a.value[e].revealed=!0,a.value[e].isMine){d.value=!0,G(),u.value&&clearInterval(u.value);return}a.value[e].minesAround===0&&b(e).forEach(s=>{setTimeout(()=>I(s),10)}),H()}},F=e=>{d.value||a.value[e].revealed||(a.value[e].flagged=!a.value[e].flagged,c.value=f.value-a.value.filter(t=>t.flagged).length,c.value<0&&(c.value=0),c.value>f.value&&(c.value=f.value))},G=()=>{a.value.forEach(e=>{e.isMine&&(e.revealed=!0)})},H=()=>{const e=a.value.filter(s=>s.revealed&&!s.isMine).length,t=p.value*v.value-f.value;e===t&&(d.value=!0,h.value=!0,u.value&&clearInterval(u.value),a.value.forEach(s=>{s.isMine&&!s.flagged&&(s.flagged=!0)}))},D=()=>{u.value&&clearInterval(u.value),u.value=setInterval(()=>{d.value||_.value++},1e3)},P=e=>["minesweeper-cell",{revealed:e.revealed,mine:e.revealed&&e.isMine,flagged:e.flagged&&!e.revealed},e.revealed&&e.minesAround>0&&!e.isMine?`number-${e.minesAround}`:""];return(e,t)=>(o(),n("div",Y,[r("div",{class:"app-container shadow-2xl relative z-10",style:W(L.value)},[t[4]||(t[4]=r("h1",{class:"text-xl font-bold mb-4 text-center",style:{"font-family":"'MS Sans Serif', 'Arial', sans-serif"}}," BUSCAMINAS ",-1)),r("div",Z,[r("div",ee,C(String(c.value).padStart(3,"0")),1),r("button",{onClick:t[0]||(t[0]=s=>g(S.value)),class:"face-button"},[h.value?(o(),n("span",te,"ðŸ˜Ž")):d.value?(o(),n("span",se,"ðŸ˜µ")):(o(),n("span",ae,"ðŸ™‚"))]),r("div",ne,C(String(_.value).padStart(3,"0")),1)]),r("div",oe,[r("button",{onClick:t[1]||(t[1]=s=>g("easy")),class:"difficulty-button"},"Principiante (8x8)"),r("button",{onClick:t[2]||(t[2]=s=>g("medium")),class:"difficulty-button"},"Intermedio (16x16)"),r("button",{onClick:t[3]||(t[3]=s=>g("hard")),class:"difficulty-button"},"Experto (30x16)")]),r("div",le,[r("div",{class:"minesweeper-grid",style:W(R.value)},[(o(!0),n(z,null,J(a.value,(s,l)=>(o(),n("div",{key:l,class:$(P(s)),onClick:m=>I(l),onContextmenu:K(m=>F(l),["prevent"])},[s.revealed?(o(),n(z,{key:0},[s.isMine?(o(),n("span",re,"ðŸ’£")):s.minesAround>0?(o(),n("span",ue,C(s.minesAround),1)):k("",!0)],64)):s.flagged?(o(),n("span",ve,"ðŸš©")):k("",!0)],42,ie))),128))],4)]),d.value?(o(),n("div",de,[h.value?(o(),n("p",ce,"Â¡Ganaste!")):(o(),n("p",fe,"Â¡Game Over!"))])):k("",!0)],4)]))}}),_e=X(me,[["__scopeId","data-v-096e4ac0"]]);export{_e as default};
